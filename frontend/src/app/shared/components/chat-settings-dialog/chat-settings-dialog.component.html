<div class="dialog-container">
  <h2>Privacy Settings</h2>

  <form [formGroup]="privacyForm">
    <div class="form-group">
      <mat-checkbox formControlName="saveLocally">Save Locally</mat-checkbox>
    </div>
    <div class="form-group">
      <mat-checkbox formControlName="saveToCloud">Save to Cloud</mat-checkbox>
    </div>
    <div class="form-group">
      <mat-checkbox formControlName="enableE2EE">Enable End-to-End Encryption</mat-checkbox>
    </div>
    <div class="form-group">
      <mat-checkbox formControlName="enableSelfDestruction" (change)="toggleSelfDestruct()">
        Enable Self Destruction
      </mat-checkbox>

      @if (showSelfDestructInput) {
        <div>
          <label for="self-destruction-time">Self Destruction Time (in seconds)</label>
          <input id="self-destruction-time" formControlName="selfDestructTime" type="number">
        </div>
      }
    </div>

    <div class="buttons">
      <button mat-button color="warn" (click)="deleteCloud()">Delete Cloud</button>
      <button mat-button color="warn" (click)="deleteLocal()">Delete Local Messages</button>
      <button mat-button color="warn" (click)="deleteConversation()">Delete Conversation</button>
    </div>
  </form>
</div>
